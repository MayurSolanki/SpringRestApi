<?xml version="1.0" encoding="UTF-8" ?>
<entity-mappings>
	xmlns="http://xmlns.jcp.org/xml/ns/persistence"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence
	http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"
	version="2.1">

	<!-- Customer Details Fetch -->
	<named-native-query
		name="userEntity.usersByDepartment">
		<query><![CDATA[
            SELECT 
            users.user_id, 
            users.first_name,
             users.last_name,
              users.email 
              FROM users LEFT JOIN department 
              on users.department_id = department.id 
              WHERE 
              department.department_name = :departmentName
         ]]></query>
	</named-native-query>



</entity-mappings>